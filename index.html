<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì›¨ë”©ì •ë³´ë§µ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- ì¹´ì¹´ì˜¤ë§µ SDK (ë³¸ì¸ í‚¤ë¡œ êµì²´) -->
  <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_APP_KEY"></script>
</head>

<body class="bg-gray-100">

  <!-- í—¤ë” -->
  <header class="bg-white shadow p-4 text-center font-bold text-lg">
    ì›¨ë”©ì •ë³´ë§µ
  </header>

  <!-- ì¹´í…Œê³ ë¦¬ í•„í„° -->
  <div class="flex justify-around bg-white p-2 text-sm">
    <button onclick="filterCategory('ì „ì²´')">ì „ì²´</button>
    <button onclick="filterCategory('ìŠ¤íŠœë””ì˜¤')">ìŠ¤íŠœë””ì˜¤</button>
    <button onclick="filterCategory('ë“œë ˆìŠ¤')">ë“œë ˆìŠ¤</button>
    <button onclick="filterCategory('ë©”ì´í¬ì—…')">ë©”ì´í¬ì—…</button>
  </div>

  <!-- ì§€ë„ -->
  <div id="map" class="w-full h-[70vh]"></div>

  <!-- ë°ì´í„° -->
  <script src="data.js"></script>

  <script>
    const container = document.getElementById("map");
    const options = {
      center: new kakao.maps.LatLng(37.4979, 127.0276),
      level: 5
    };
    const map = new kakao.maps.Map(container, options);

    let markers = [];

    function renderMarkers(category) {
      markers.forEach(m => m.setMap(null));
      markers = [];

      weddingData
        .filter(item => category === "ì „ì²´" || item.category === category)
        .forEach(item => {
          const marker = new kakao.maps.Marker({
            map,
            position: new kakao.maps.LatLng(item.lat, item.lng)
          });

          const info = new kakao.maps.InfoWindow({
            content: `
              <div style="padding:6px;font-size:12px">
                <strong>${item.name}</strong><br/>
                ${item.category}<br/>
                ğŸ’° ${item.price}
              </div>
            `
          });

          kakao.maps.event.addListener(marker, 'click', () => {
            info.open(map, marker);
          });

          markers.push(marker);
        });
    }

    function filterCategory(category) {
      renderMarkers(category);
    }

    renderMarkers("ì „ì²´");
  </script>

</body>
</html>
