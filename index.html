<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì›¨ë”©ì •ë³´ë§µ</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Kakao Map -->
  <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_APP_KEY"></script>
</head>

<body class="h-screen flex flex-col bg-gray-100">

  <!-- ìƒë‹¨ -->
  <header class="bg-white shadow p-3 flex justify-between items-center">
    <h1 class="text-lg font-bold">ì›¨ë”©ì •ë³´ë§µ</h1>
    <button class="text-sm bg-pink-500 text-white px-3 py-1 rounded">
      ì§€ì—­ ì„ íƒ
    </button>
  </header>

  <!-- ì§€ë„ -->
  <div id="map" class="flex-1"></div>

  <!-- í•˜ë‹¨ ì¹´í…Œê³ ë¦¬ -->
  <nav class="bg-white border-t flex justify-around p-2 text-sm">
    <button onclick="filterCategory('all')">ì „ì²´</button>
    <button onclick="filterCategory('studio')">ìŠ¤íŠœë””ì˜¤</button>
    <button onclick="filterCategory('dress')">ë“œë ˆìŠ¤</button>
    <button onclick="filterCategory('makeup')">ë©”ì´í¬ì—…</button>
  </nav>

  <!-- ë°”í…€ ì‹œíŠ¸ -->
  <div id="sheet"
       class="fixed bottom-0 left-0 right-0 bg-white rounded-t-xl shadow-lg p-4 hidden">
    <h2 id="shopName" class="font-bold text-lg"></h2>
    <p id="shopInfo" class="text-sm text-gray-600 mt-1"></p>

    <div class="flex gap-3 mt-4">
      <button class="flex-1 bg-pink-500 text-white py-2 rounded">
        â¤ï¸ ì°œí•˜ê¸°
      </button>
      <button class="flex-1 bg-gray-800 text-white py-2 rounded">
        ğŸ“ ë¬¸ì˜
      </button>
    </div>
  </div>

  <script>
    // ì§€ë„ ìƒì„±
    const map = new kakao.maps.Map(
      document.getElementById('map'),
      {
        center: new kakao.maps.LatLng(37.5665, 126.9780),
        level: 6
      }
    );

    // ìƒ˜í”Œ ë°ì´í„°
    const shops = [
      {
        name: "ì„œìš¸ ì›¨ë”© ìŠ¤íŠœë””ì˜¤",
        category: "studio",
        info: "ê°€ê²©ëŒ€ 200~300 / ê°•ë‚¨",
        lat: 37.498,
        lng: 127.027
      },
      {
        name: "ë¡œë§¨í‹± ë“œë ˆìŠ¤ìƒµ",
        category: "dress",
        info: "ê°€ê²©ëŒ€ 150~250 / ì²­ë‹´",
        lat: 37.525,
        lng: 127.052
      }
    ];

    let markers = [];

    function drawMarkers(category = 'all') {
      markers.forEach(m => m.setMap(null));
      markers = [];

      shops.forEach(shop => {
        if (category !== 'all' && shop.category !== category) return;

        const marker = new kakao.maps.Marker({
          map,
          position: new kakao.maps.LatLng(shop.lat, shop.lng)
        });

        kakao.maps.event.addListener(marker, 'click', () => {
          openSheet(shop);
        });

        markers.push(marker);
      });
    }

    function openSheet(shop) {
      document.getElementById('shopName').innerText = shop.name;
      document.getElementById('shopInfo').innerText = shop.info;
      document.getElementById('sheet').classList.remove('hidden');
    }

    function filterCategory(cat) {
      drawMarkers(cat);
    }

    drawMarkers();
  </script>
</body>
</html>